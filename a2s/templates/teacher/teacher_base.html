{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}Teacher Dashboard{% endblock %}</title>
  <link rel="icon" type="image/x-icon" href="{% static 'images/authentication/favicon.ico' %}">
  <link rel="stylesheet" href="{% static 'css/teacher/teacher_base.css' %}" />
    {% block extra_css %}{% endblock %}
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="page-container">

  <!-- Header -->
  <header class="header">
    <div class="header-content container">
      <div class="header-left">
        <div class="header-icon">
          <i data-lucide="graduation cap"></i>
        </div>
        <div class="header-text">
          <h1>A2S Next-Gen: Academic To Success</h1>
          <p>Teacher Portal</p>
        </div>
      </div>
      <div class="header-actions">
        <button id="notif-btn" class="notif-btn">
          <i data-lucide="bell"></i>
          <span id="notif-badge" class="notif-badge hidden">0</span>
        </button>

        <div id="notif-dropdown" class="notification-dropdown">
          <div class="notification-header">
            <h4>Notifications</h4>
            <span class="clear-notif" id="clear-notif">Mark all as read</span>
          </div>
          <div id="notif-list"></div>
        </div>


        <a href="{% url 'Logout' %}" class="logout-button">
          <i data-lucide="log-out"></i>
        </a>
      </div>
    </div>
  </header>

  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="dashboard-sidebar">
      <!-- Teacher Info -->
  <div class="sidebar-teacher-info">
    <div class="teacher-avatar">
  {% if request.user.teacherprofile.profile_picture %}
    <img 
      src="{{ request.user.teacherprofile.profile_picture }}" 
      alt="Profile Picture" 
      class="avatar-circle"
    >
  {% else %}
    {% if teacher_user.first_name and teacher_user.last_name %}
      <span>{{ teacher_user.first_name|slice:":1" }}{{ teacher_user.last_name|slice:":1" }}</span>
    {% else %}
      <span>ST</span>
    {% endif %}
  {% endif %}
</div>

  

  <div class="teacher-details">
    <h3 id="teacher-name">
      Prof. {{ request.user.first_name }} {{ request.user.last_name }}
    </h3>
    <p class="teacher-id">Faculty ID: {{ request.user.id_number }}</p>
    <p class="teacher-program">
      {% if request.user.teacherprofile.department %}
        {{ request.user.teacherprofile.get_department_display }}
      {% else %}
        Department: Not Assigned
      {% endif %}
    </p>
  </div>
</div>


      <!-- Navigation -->
      <nav class="sidebar-nav">
        <a href="{% url 'TeacherDashboard' %}" class="nav-button">
          <i data-lucide="home"></i>
          <span>Dashboard</span>
        </a>
        <a href="{% url 'TeacherProfile' %}" class="nav-button">
          <i data-lucide="user"></i>
          <span>My Profile</span>
        </a>
        <a href="{% url 'TeacherSchedule' %}" class="nav-button">
          <i data-lucide="calendar"></i>
          <span>Schedule</span>
        </a>
        <a href="{% url 'TeacherGrades' %}" class="nav-button">
          <i data-lucide="clipboard-list"></i>
          <span>Grades</span>
        </a>
        <a href="{% url 'TeacherCourses' %}" class="nav-button">
          <i data-lucide="book"></i>
          <span>Courses</span>
        </a>
        <button class="nav-button">
          <i data-lucide="bar-chart-3"></i>
          <span>Reports</span>
        </button>
        
        </a>
      </nav>
    </aside>

    <main class="dashboard-main">
      {% block content %}
      <p>Welcome! This is the teacher dashboard.</p>
      {% endblock %}
    </main>
  </div>
  {% if calendar_json %}
  <script>
  window.calendarJSON = JSON.parse('{{ calendar_json|escapejs }}');
</script>
{% endif %}

      <script src="{% static 'js/teacher/teacher_base.js' %}"></script>


</body>
</html>

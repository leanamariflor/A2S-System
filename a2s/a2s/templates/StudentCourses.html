{% extends "student_base.html" %}
{% load static %}

{% block title %}My Courses{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/StudentCourses.css' %}" />
{% endblock %}

{% block content %}
<div class="courses-container">
  <h2>My Courses</h2>
  <table id="coursesTable" border="1" cellpadding="8">
    <thead>
      <tr>
        <th>Course Code</th>
        <th>Course Name</th>
        <th>Units</th>
        <th>Instructor</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows will be dynamically inserted here -->
    </tbody>
  </table>
</div>

<script>
  // Fetch and display the mockup data
  fetch("{% static 'data/courses.json' %}")
    .then(response => response.json())
    .then(data => {
      const tableBody = document.querySelector("#coursesTable tbody");
      data.forEach(course => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${course.course_code}</td>
          <td>${course.course_name}</td>
          <td>${course.units}</td>
          <td>${course.instructor}</td>
        `;
        tableBody.appendChild(row);
      });
    })
    .catch(error => console.error("Error loading courses:", error));
</script>
{% endblock %}

{% extends "teacher/teacher_base.html" %}
{% load static %}
{% load dict_filters %}

{% block title %}My Teaching Schedule - A2S{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'teacher/css/teacher_schedule.css' %}">
{% endblock %}

{% block content %}
<div class="schedule-page sg-container">
  <h2 class="page-title">My Teaching Schedule</h2>

  <div class="schedule-wrapper">
    <table class="schedule-table">
      <thead>
        <tr>
          <th>Time</th>
          {% for day in days %}
            <th>{{ day }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for hour in hours %}
        <tr>
          <td class="time-label">{{ hour }}</td>
          {% for day in days %}
            {% with cell=schedule_grid|dict_get:day|dict_get:hour %}
              {% if cell %}
                {% if cell.code %}
                  <td class="schedule-cell" rowspan="{{ cell.blocks }}">
                    <div class="subject-box">
                      <strong>{{ cell.code }}</strong><br>
                      {{ cell.section }}<br>
                      {{ cell.room }}
                    </div>
                  </td>
                {% elif cell.occupied %}
                  {# Skip cell because rowspan already covers it #}
                {% endif %}
              {% else %}
                <td></td>
              {% endif %}
            {% endwith %}
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
